<template name="addRoute">

    {{>addRouteMap}}
</template>


<template name="addRouteMap">
    {{#unless geolocationError}}
        <div id="map-container" class="map-container">
            {{> googleMap name="addRouteMap" options=myMapOptions }}
        </div>
    {{else}}
        Geolocation failed: {{geolocationError}}
        <h3>Check your internet connection or turn on Location</h3>
    {{/unless}}



    <div class="row" id="addRouteButtons1">
        <div class="col s6">
            <button id="startingPoint" class="btn waves-effect waves-light " type="click" name="startingPoint">Start Point
                <i class="material-icons right">my_location</i>
            </button>

        </div>
        <div class="col s6">
            <button id="endingPoint" class="btn waves-effect waves-light" type="click" name="endingPoint">End Point
                <i class="material-icons right">my_location</i>
            </button>
        </div>

    </div>

    <div class="row" id="addRouteButtons2">
        <div class="col s6">
            <button id="undo" class="btn waves-effect waves-light" type="click" name="undo">Undo
                <i class="material-icons right">my_location</i>
            </button>
        </div>
        <div class="col s6">
            <button id="addMarker" class="btn waves-effect waves-light" type="click" name="addMarker">Add Marker
                <i class="material-icons right">location_on</i>
            </button>
        </div>

    </div>


    <div class="container" id = "routeForm">

        {{#autoForm collection="Routes" id="addNewRouteForm" type="insert"}}

            <!-- input start time-->
            {{> afQuickField name='startTime' icon = "query_builder"  type="time" placeholder = "9:00 AM"}}

            <!-- select garbage types-->
            {{> afQuickField name='biodegradable' type="boolean-checkbox" }}
            {{> afQuickField name='nonBiodegradable' type="boolean-checkbox" }}

            <div class="row">
                <div class="col s4">
                    {{> afFieldInput name="driverNIC" options=driversNames type="select" firstOption="(Select a driver)"}}

                </div>
                <div class="col s4">
                    {{> afFieldInput name="TruckNO" options=truckNo type="select" firstOption="(Select a truck)" }}
                </div>
                {{> afQuickField name="mapRoute" id='routeMap'}}
                {{> afQuickField name="active" value=true}}
                <div class="col s4">
                    <button id="addRoutej" type="submit" class="btn waves-effect">Save Route</button>
                </div>
            </div>

        {{/autoForm}}


    </div>
    <div class="container" id="navigationDetails">
        {{#autoForm collection="Routes" id="addNewRouteForm" type="insert"}}
            <div class="card">
                <div class="card-content">
                    <span class="card-title"><b>Route Navigation Directions</b> </span>

                    <div id="right-panel">
                        <p><b>Total Distance:</b> <span id="total"></span></p>
                    </div>

                </div>
            </div>
        {{/autoForm}}
    </div>


</template>


